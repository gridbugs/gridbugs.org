<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="gridbugs">
    <meta property="og:type" content="website">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
	<meta property="og:type" content="article">
	<meta property="og:title" content="7 Day Roguelike 2023: Even More Procedural Generation!">
	<link rel="canonical" href="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/">
	<meta property="og:url" content="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/">

	

	
	    <meta property="article:published_time" content="2023-03-09T00:00:00+00:00">
	

	
	    <meta property="og:image" content="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/town.png">
	
    

    <link rel="icon" type="image/x-icon" href="https://gridbugs.github.io/gridbugs.org/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/rss.xml">
    <link rel="alternate" type="application/atom+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/atom.xml">

    <link rel="stylesheet" href="https://gridbugs.github.io/gridbugs.org/style.css">
    <title>
7 Day Roguelike 2023: Even More Procedural Generation!
</title>
  </head>
  <body>
    <div id="content">
      <header>
  <div class="header-nav-container">
    <nav>
      <ul>
	<li class="lhs"><a href="https://gridbugs.github.io/gridbugs.org">gridbugs</a></li>
	
	
	
	<li class="lhs slash-before"><a href="https://gridbugs.github.io/gridbugs.org/devlogs/">devlogs</a></li>
	
	
	<li class="first-rhs rhs"><a href="https://gridbugs.github.io/gridbugs.org/about">about</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">tags</a></li>
      </ul>
    </nav>
  </div>
</header>

      




<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2023-day3&#x2F;" aria-label="Previous">
	  Previous: 7 Day Roguelike 2023: More Procedural Generation
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2023-day5&#x2F;" aria-label="Next">
	  Next: 7 Day Roguelike 2023: UI, Night, Loss, Menus
	</a>
	
      </li>
    </ul>
  </nav>
</div>



<article>
<h1 class="title">7 Day Roguelike 2023: Even More Procedural Generation!</h1>

  
<p class="post-meta">
  <time datetime="2023-03-09T00:00:00+00:00">
    March 09, 2023
  </time>
  
  in
  
  <a href="https://gridbugs.github.io/gridbugs.org/tags/procgen" aria-label="tag">procgen</a>
  
</p>


  

<p>Yet another day of working on procedural generation and I think I’m finally finished (the
procgen - not the game!). I added a generator for the starting town, a swamp
area, a flooded city area, and dungeons which are accessible from the city.</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/town.png" alt="Screenshot of the starting town" /></p>
<span id="continue-reading"></span>
<p>The city section has a sluice gate that has rusted through and leaked water into the
city causing it to flood, but the gate is still shut and it blocks the path of
the player to get out of the city and reach the ocean. There are bunkers under
the city that have controls for the gate. Some buildings have stairs that lead
to the bunkers (the ‘&gt;’ tiles).</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/city.png" alt="Screenshot of the sunken city" /></p>
<p>Going down the stairs takes you to a bunker. I used a fairly standard dungeon
generator here because I don’t want to spend any more time on procedural
generation. This dungeon generator is borrowed from a half-finished tutorial on
how to use my game engine. It populates dungeons with rooms, corridors, and
doors. It generates dungeons with loops, is conceptually simple and easy to
implement. I’m really happy with the dungeons it generates. I might write a blog post
about this algorithm after the game jam.</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/dungeon.png" alt="Screenshot of a bunker" /></p>
<p>Unlike all my previous games this one takes place in a single giant level
(except for the tiny dungeons under the city). The map is about 500 tiles wide
so it’s too wide to comfortably fit on my screen. To debug the terrain generator
I made a small program that renders a simplified view of the generated terrain
to a terminal and used a tiny font to quickly iterate on terrain generation
without having to start the game engine.</p>
<p>Here’s how the starting town looks in the debugging view:</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/town-dev.png" alt="Debugging visualization of the starting town" /></p>
<p>And this is how the city looks:</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2023-day4/city-dev.png" alt="Debugging visualization of the city" /></p>
<p>My plan for tomorrow is to add a fuel system, a passenger system, and a time
system, where you lose if you end up on the river after dark. Part of the
generated terrain includes an inn in both the swamp and the city where you’ll be
able to trade for fuel and wait out the night.</p>

</article>


<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2023-day3&#x2F;" aria-label="Previous">
	  Previous: 7 Day Roguelike 2023: More Procedural Generation
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2023-day5&#x2F;" aria-label="Next">
	  Next: 7 Day Roguelike 2023: UI, Night, Loss, Menus
	</a>
	
      </li>
    </ul>
  </nav>
</div>



      <footer>
  <div class="footer-nav-container">
    <nav>
      <ul>
	<li><a href="https://github.com/gridbugs">github</a></li>
	<li><a href="https://gridbugs.itch.io">itch.io</a></li>
	<li><a href="https://hachyderm.io/@gridbugs">mastodon</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/blog">Blog</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/projects">Projects</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/devlogs">Devlogs</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/about">About</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/contact">Contact</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/external">External</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">Tags</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/atom.xml">Atom</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/rss.xml">RSS</a></li>
      </ul>
    </nav>
  </div>
  <ul class="copyright">
    <li>
      Built with <a href="https://www.getzola.org/">Zola</a>.
    </li>
    <li>
      © 2015-2025 Stephen Sherratt.
    </li>
  </ul>
</footer>

    </div>
  </body>
</html>
