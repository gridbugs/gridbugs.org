<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="gridbugs">
    <meta property="og:type" content="website">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
	<meta property="og:type" content="article">
	<meta property="og:title" content="Global Descriptor Table">
	<link rel="canonical" href="https://gridbugs.github.io/gridbugs.org/daily/global-descriptor-table/">
	<meta property="og:url" content="https://gridbugs.github.io/gridbugs.org/daily/global-descriptor-table/">

	

	
	    <meta property="article:published_time" content="2020-08-23T00:00:00+00:00">
	

	
	    <meta property="og:image" content="https://gridbugs.github.io/gridbugs.org/logo.png">
	
    

    <link rel="icon" type="image/x-icon" href="https://gridbugs.github.io/gridbugs.org/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/rss.xml">
    <link rel="alternate" type="application/atom+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/atom.xml">

    <link rel="stylesheet" href="https://gridbugs.github.io/gridbugs.org/style.css">
    <title>
Global Descriptor Table
</title>
  </head>
  <body>
    <div id="content">
      <header>
  <div class="header-nav-container">
    <nav>
      <ul>
	<li class="lhs"><a href="https://gridbugs.github.io/gridbugs.org">gridbugs</a></li>
	
	
	
	<li class="lhs slash-before"><a href="https://gridbugs.github.io/gridbugs.org/daily/">daily posts</a></li>
	
	
	<li class="first-rhs rhs"><a href="https://gridbugs.github.io/gridbugs.org/about">about</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">tags</a></li>
      </ul>
    </nav>
  </div>
</header>

      




<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;trampolining&#x2F;" aria-label="Previous">
	  Previous: Trampolining
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;x86-basic-interrupt-handling-kind-of-working&#x2F;" aria-label="Next">
	  Next: x86 Basic Interrupt Handling Kind of Working
	</a>
	
      </li>
    </ul>
  </nav>
</div>



<article>
<h1 class="title">Global Descriptor Table</h1>

  
<p class="post-meta">
  <time datetime="2020-08-23T00:00:00+00:00">
    August 23, 2020
  </time>
  
</p>


  

<p>In x86 processors, the <a href="https://en.wikipedia.org/wiki/Global_Descriptor_Table">Global Descriptor Table</a>
is a data structure that stores characteristics of regions of memory known as “segments”.
Example characteristics are the start address of the segment, the size of the segment, and access flags,
such as whether the segment is writable or executable.
Back in the days of 16-bit addresses, the ability to dynamically switch the current segment
allowed programmers to effectively address more 64k.</p>
<p>Nowadays, in 64-bit mode, a Global Descriptor Table must still be set up, largely for legacy reasons it seems.
Certain instructions, notably those which move control between distant virtual address (such as returning
from a system call), take a segment index as an argument, and change the current <em>segment</em> in addition
to the current <em>instruction pointer</em> address.</p>
<p>Typically the GDT has at least 2 entries (in addition to the
mandatory null entry at index 0) - one for code, and a second for data. I’m not sure whether it’s necessary
to have one such pair for the kernel, and a second pair of segments for user-mode. My current goal is to get
the kernel-to-user-mode switch to happen <em>at all</em>, then go over everything I’m doing and make sure I’m doing
it “right”. Once I have a basic user-mode “thread” running, I’ll do a longer write-up explaining how to get
from zero to this point.</p>
<p>A page that turned out to be of great practical use:
<a href="https://blog.llandsmeer.com/tech/2019/07/21/uefi-x64-userland.html">Builing a UEFI x64 kernel from scratch: A long trip to userspace</a></p>

</article>


<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;trampolining&#x2F;" aria-label="Previous">
	  Previous: Trampolining
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;x86-basic-interrupt-handling-kind-of-working&#x2F;" aria-label="Next">
	  Next: x86 Basic Interrupt Handling Kind of Working
	</a>
	
      </li>
    </ul>
  </nav>
</div>



      <footer>
  <div class="footer-nav-container">
    <nav>
      <ul>
	<li><a href="https://github.com/gridbugs">github</a></li>
	<li><a href="https://gridbugs.itch.io">itch.io</a></li>
	<li><a href="https://hachyderm.io/@gridbugs">mastodon</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/blog">Blog</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/projects">Projects</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/devlogs">Devlogs</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/about">About</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/contact">Contact</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/external">External</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">Tags</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/atom.xml">Atom</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/rss.xml">RSS</a></li>
      </ul>
    </nav>
  </div>
  <ul class="copyright">
    <li>
      Built with <a href="https://www.getzola.org/">Zola</a>.
    </li>
    <li>
      © 2015-2025 Stephen Sherratt.
    </li>
  </ul>
</footer>

    </div>
  </body>
</html>
