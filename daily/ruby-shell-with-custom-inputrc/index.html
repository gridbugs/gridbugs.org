<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="gridbugs">
    <meta property="og:type" content="website">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
	<meta property="og:type" content="article">
	<meta property="og:title" content="Ruby shell with custom .inputrc">
	<link rel="canonical" href="https://gridbugs.github.io/gridbugs.org/daily/ruby-shell-with-custom-inputrc/">
	<meta property="og:url" content="https://gridbugs.github.io/gridbugs.org/daily/ruby-shell-with-custom-inputrc/">

	

	
	    <meta property="article:published_time" content="2020-11-08T00:00:00+00:00">
	

	
	    <meta property="og:image" content="https://gridbugs.github.io/gridbugs.org/logo.png">
	
    

    <link rel="icon" type="image/x-icon" href="https://gridbugs.github.io/gridbugs.org/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/rss.xml">
    <link rel="alternate" type="application/atom+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/atom.xml">

    <link rel="stylesheet" href="https://gridbugs.github.io/gridbugs.org/style.css">
    <title>
Ruby shell with custom .inputrc
</title>
  </head>
  <body>
    <div id="content">
      <header>
  <div class="header-nav-container">
    <nav>
      <ul>
	<li class="lhs"><a href="https://gridbugs.github.io/gridbugs.org">gridbugs</a></li>
	
	
	
	<li class="lhs slash-before"><a href="https://gridbugs.github.io/gridbugs.org/daily/">daily posts</a></li>
	
	
	<li class="first-rhs rhs"><a href="https://gridbugs.github.io/gridbugs.org/about">about</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">tags</a></li>
      </ul>
    </nav>
  </div>
</header>

      




<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;tmux-runs-a-login-shell-by-default&#x2F;" aria-label="Previous">
	  Previous: Tmux runs a login shell by default
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;chargrid-hidpi-scaling-fix&#x2F;" aria-label="Next">
	  Next: Chargrid HiDPI Scaling Fix
	</a>
	
      </li>
    </ul>
  </nav>
</div>



<article>
<h1 class="title">Ruby shell with custom .inputrc</h1>

  
<p class="post-meta">
  <time datetime="2020-11-08T00:00:00+00:00">
    November 08, 2020
  </time>
  
</p>


  

<p>The program <code>irb</code> is an interactive ruby shell.
When I run it, the VI navigation keys “HJKL” move the cursor rather than inserting the characters “HJKL”.
This looks related to my custom ~/.inputrc file which specifies readline use the VI keybindings, instead of
the default emacs keybindings:</p>
<pre style="background-color:#ffffff;color:#323232;"><code><span># ~/.inputrc
</span><span>...
</span><span>set editing-mode vi
</span><span>...
</span></code></pre>
<p>In certain interactive shells (those that use readline), such as bash and the python shell, this adds
modal line editing and VI key navigation that I’m accustomed to in Vim.
But it seems that <code>irb</code> doesn’t work correctly with VI editing mode.
It’s trying to do <em>something</em>. Switching from insert to normal mode works, and I can use additional
VI navigation commands such as work navigation while in normal mode. But “HJKL” navigation doesn’t
turn off in insert mode, so I can’t type “HJKL”.</p>
<p>The workaround is to tell <code>irb</code> to ignore ~/.inputrc when launching it:</p>
<pre style="background-color:#ffffff;color:#323232;"><code><span>$ INPUTRC=/dev/null irb
</span></code></pre>

</article>


<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;tmux-runs-a-login-shell-by-default&#x2F;" aria-label="Previous">
	  Previous: Tmux runs a login shell by default
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;daily&#x2F;chargrid-hidpi-scaling-fix&#x2F;" aria-label="Next">
	  Next: Chargrid HiDPI Scaling Fix
	</a>
	
      </li>
    </ul>
  </nav>
</div>



      <footer>
  <div class="footer-nav-container">
    <nav>
      <ul>
	<li><a href="https://github.com/gridbugs">github</a></li>
	<li><a href="https://gridbugs.itch.io">itch.io</a></li>
	<li><a href="https://hachyderm.io/@gridbugs">mastodon</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/blog">Blog</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/projects">Projects</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/devlogs">Devlogs</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/about">About</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/contact">Contact</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/external">External</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">Tags</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/atom.xml">Atom</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/rss.xml">RSS</a></li>
      </ul>
    </nav>
  </div>
  <ul class="copyright">
    <li>
      Built with <a href="https://www.getzola.org/">Zola</a>.
    </li>
    <li>
      © 2015-2025 Stephen Sherratt.
    </li>
  </ul>
</footer>

    </div>
  </body>
</html>
