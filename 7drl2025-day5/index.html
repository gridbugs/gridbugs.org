<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="gridbugs">
    <meta property="og:type" content="website">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
	<meta property="og:type" content="article">
	<meta property="og:title" content="7 Day Roguelike 2025: Map, Pickups">
	<link rel="canonical" href="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/">
	<meta property="og:url" content="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/">

	

	
	    <meta property="article:published_time" content="2025-03-05T00:00:00+00:00">
	

	
	    <meta property="og:image" content="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/map.png">
	
    

    <link rel="icon" type="image/x-icon" href="https://gridbugs.github.io/gridbugs.org/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/rss.xml">
    <link rel="alternate" type="application/atom+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/atom.xml">

    <link rel="stylesheet" href="https://gridbugs.github.io/gridbugs.org/style.css">
    <title>
7 Day Roguelike 2025: Map, Pickups
</title>
  </head>
  <body>
    <div id="content">
      <header>
  <div class="header-nav-container">
    <nav>
      <ul>
	<li class="lhs"><a href="https://gridbugs.github.io/gridbugs.org">gridbugs</a></li>
	
	
	
	<li class="lhs slash-before"><a href="https://gridbugs.github.io/gridbugs.org/devlogs/">devlogs</a></li>
	
	
	<li class="first-rhs rhs"><a href="https://gridbugs.github.io/gridbugs.org/about">about</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">tags</a></li>
      </ul>
    </nav>
  </div>
</header>

      




<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2025-day4&#x2F;" aria-label="Previous">
	  Previous: 7 Day Roguelike 2025: Text, Item Labels, Central Hub
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2025-day6&#x2F;" aria-label="Next">
	  Next: 7 Day Roguelike 2025: Putting it all together
	</a>
	
      </li>
    </ul>
  </nav>
</div>



<article>
<h1 class="title">7 Day Roguelike 2025: Map, Pickups</h1>

  
<p class="post-meta">
  <time datetime="2025-03-05T00:00:00+00:00">
    March 05, 2025
  </time>
  
</p>


  

<p>Tonight I added a map mode (still rendered with oscillographics of course). It
only shows walls you have already seen.</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/map.png" alt="Top-down map of a dungeon, rendered with oscillographics" /></p>
<p>I also added some basic items for restoring health and mana.</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/pickups.png" alt="3d scene showing a star and heart-shaped pickups on the ground" /></p>
<p>When you walk into an enemy you now take damage rather than instantly dying,
and there’s an animation that plays where the image gets fuzzy for a second
after taking damage. The player has a period of invulnerability after taking
damage so they don’t immediately take more damage from the same source.</p>
<p>I also spent several hours tracking down a bug where some corners would appear to pop inside out when viewed from certain angles. A scene like this:</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/good.png" alt="3d scene where everything looks fine" /></p>
<p>…would appear like this:</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2025-day5/bad.png" alt="The sceen from above but one of the corners appears inside out" /></p>
<p>The problem was related to how geometry is split so that the only walls
considered for rendering are those in front of the player, and walls with
components both in front of and behind the player are clipped so just the
portion in front of the player remains. Under some conditions a connected
series of walls would be separated such that the engine sees some corners as
two ends of two disconnected walls rather than the corner between a pair of
connected walls, which violated some other assumptions made elsewhere in the
engine resulting in inside-out looking walls.</p>

</article>


<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2025-day4&#x2F;" aria-label="Previous">
	  Previous: 7 Day Roguelike 2025: Text, Item Labels, Central Hub
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2025-day6&#x2F;" aria-label="Next">
	  Next: 7 Day Roguelike 2025: Putting it all together
	</a>
	
      </li>
    </ul>
  </nav>
</div>



      <footer>
  <div class="footer-nav-container">
    <nav>
      <ul>
	<li><a href="https://github.com/gridbugs">github</a></li>
	<li><a href="https://gridbugs.itch.io">itch.io</a></li>
	<li><a href="https://hachyderm.io/@gridbugs">mastodon</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/blog">Blog</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/projects">Projects</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/devlogs">Devlogs</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/about">About</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/contact">Contact</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/external">External</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">Tags</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/atom.xml">Atom</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/rss.xml">RSS</a></li>
      </ul>
    </nav>
  </div>
  <ul class="copyright">
    <li>
      Built with <a href="https://www.getzola.org/">Zola</a>.
    </li>
    <li>
      © 2015-2025 Stephen Sherratt.
    </li>
  </ul>
</footer>

    </div>
  </body>
</html>
