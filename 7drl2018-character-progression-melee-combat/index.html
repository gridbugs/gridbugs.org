<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="gridbugs">
    <meta property="og:type" content="website">

    
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
	<meta property="og:type" content="article">
	<meta property="og:title" content="7 Day Roguelike 2018: Character Progression, Melee Combat">
	<link rel="canonical" href="https://gridbugs.github.io/gridbugs.org/7drl2018-character-progression-melee-combat/">
	<meta property="og:url" content="https://gridbugs.github.io/gridbugs.org/7drl2018-character-progression-melee-combat/">

	

	
	    <meta property="article:published_time" content="2018-03-06T23:44:00+10:00">
	

	
	    <meta property="og:image" content="https://gridbugs.github.io/gridbugs.org/logo.png">
	
    

    <link rel="icon" type="image/x-icon" href="https://gridbugs.github.io/gridbugs.org/favicon.png">
    <link rel="alternate" type="application/rss+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/rss.xml">
    <link rel="alternate" type="application/atom+xml" title="gridbugs" href="https://gridbugs.github.io/gridbugs.org/atom.xml">

    <link rel="stylesheet" href="https://gridbugs.github.io/gridbugs.org/style.css">
    <title>
7 Day Roguelike 2018: Character Progression, Melee Combat
</title>
  </head>
  <body>
    <div id="content">
      <header>
  <div class="header-nav-container">
    <nav>
      <ul>
	<li class="lhs"><a href="https://gridbugs.github.io/gridbugs.org">gridbugs</a></li>
	
	
	
	<li class="lhs slash-before"><a href="https://gridbugs.github.io/gridbugs.org/devlogs/">devlogs</a></li>
	
	
	<li class="first-rhs rhs"><a href="https://gridbugs.github.io/gridbugs.org/about">about</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">tags</a></li>
      </ul>
    </nav>
  </div>
</header>

      




<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2018-items-glossary-combat-railgun&#x2F;" aria-label="Previous">
	  Previous: 7 Day Roguelike 2018: Items, Glossary, Combat, Railgun
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2018-npcs&#x2F;" aria-label="Next">
	  Next: 7 Day Roguelike 2018: NPCs
	</a>
	
      </li>
    </ul>
  </nav>
</div>



<article>
<h1 class="title">7 Day Roguelike 2018: Character Progression, Melee Combat</h1>

  
<p class="post-meta">
  <time datetime="2018-03-06T23:44:00+10:00">
    March 06, 2018
  </time>
  
</p>


  

<p>Today I implemented character progression. Character progression is entirely
made up of meters, which either give you new abilities, or passive benefits.
You get to choose 1 of 3 randomly selected meters to add to your character at
the end of each level, but only if you complete the mission for that level.</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2018-character-progression-melee-combat/upgrades.png" alt="upgrades.png" /></p>
<span id="continue-reading"></span>
<p>I noticed that it’s possible to get stuck in a corner, surrounded by enemies.
The game prevents you from walking through NPCs, and doesn’t progress time when
you take no action, or your attempted action fails, so the game is soft-locked
and you have to quit and start again.</p>
<p>I added a melee combat system to address this. I’m not a fan of bump combat, so
I added some mechanics to spice it up a bit.</p>
<p>Firstly, you have a stamina meter.  It increases every turn you don’t attack in
melee, and decreases every turn you do attack in melee. If it’s at 0, you can’t
attack in melee.</p>
<p>Secondly, when you bump into an enemy, you attack all enemies adjacent to the
player.</p>
<p><img src="https://gridbugs.github.io/gridbugs.org/7drl2018-character-progression-melee-combat/screenshot.png" alt="screenshot.png" /></p>
<p>When you start the game, you always have a health and stamina meter, so it’s
always possible to do melee combat when nothing else is available. You also
start with a third, randomly chosen meter.</p>
<p>There are several issues I’ve noticed which I’m yet to fix:</p>
<ul>
<li>When attempting to take an action involving a meter, and the action fails due
to the meter being empty, time still passes. This is especially frustrating
in melee combat, where you bump into an NPC, they don’t take damage, and
the player still gets attacked by the NCP. Time shouldn’t progress in this case.</li>
<li>Relatedly, when an attempt to take an action fails due to a meter being 0,
the player should be alerted.</li>
<li>There’s a tiny chance (I’ve seen it twice ever in hundreds of runs) that the
terrain generator will place items and NPCs inside walls. After the first
time I added code to print the RNG seed each time, and on the second time I
recorded the RNG seed, so I can reliably reproduce the problem and solve it.</li>
</ul>

</article>


<div class="next-prev-nav-container">
  <nav>
    <ul>
      
      
      
      
      <li class="nav-prev">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2018-items-glossary-combat-railgun&#x2F;" aria-label="Previous">
	  Previous: 7 Day Roguelike 2018: Items, Glossary, Combat, Railgun
	</a>
	
      </li>
      <li class="nav-next">
	
	<a href="https:&#x2F;&#x2F;gridbugs.github.io&#x2F;gridbugs.org&#x2F;7drl2018-npcs&#x2F;" aria-label="Next">
	  Next: 7 Day Roguelike 2018: NPCs
	</a>
	
      </li>
    </ul>
  </nav>
</div>



      <footer>
  <div class="footer-nav-container">
    <nav>
      <ul>
	<li><a href="https://github.com/gridbugs">github</a></li>
	<li><a href="https://gridbugs.itch.io">itch.io</a></li>
	<li><a href="https://hachyderm.io/@gridbugs">mastodon</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/blog">Blog</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/projects">Projects</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/devlogs">Devlogs</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/about">About</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/contact">Contact</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/external">External</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/tags">Tags</a></li>
      </ul>
    </nav>
    <nav>
      <ul>
	<li><a href="https://gridbugs.github.io/gridbugs.org/atom.xml">Atom</a></li>
	<li><a href="https://gridbugs.github.io/gridbugs.org/rss.xml">RSS</a></li>
      </ul>
    </nav>
  </div>
  <ul class="copyright">
    <li>
      Built with <a href="https://www.getzola.org/">Zola</a>.
    </li>
    <li>
      © 2015-2025 Stephen Sherratt.
    </li>
  </ul>
</footer>

    </div>
  </body>
</html>
